<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Apoiar a educação — ONG</title>
  <meta name="description" content="Página de doação - campanha Apoiar a educação" />

  <link rel="stylesheet" href="estilo.css">
</head>

<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">ONG</div>
      <div class="subtitle">Transformando vidas através da educação</div>
    </div>

    <div class="card">
      <div class="grid">
        <div>
          <h1 class="title">Apoiar a educação</h1>
          <p class="lead">Nossa campanha visa garantir materiais, reforço escolar e infraestrutura para crianças em comunidades com recursos limitados.</p>

          <div style="margin-top:12px">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
              <div>
                <div style="font-size:18px;font-weight:700;color:#fff">R$ <span id="collected">0,00</span></div>
                <div class="muted">de R$ <span id="goal">5.000,00</span></div>
              </div>
              <div><span class="muted">Progresso</span></div>
            </div>
            <div class="progress" style="margin-top:10px">
              <div id="bar" class="bar" style="width:0%"></div>
            </div>
          </div>

          <form id="donationForm" method="POST" action="/cgi-bin/donate.cgi" style="margin-top:18px">
            <div class="amounts" style="margin-bottom:8px">
              <button type="button" data-amount="50">R$ 50</button>
              <button type="button" data-amount="100">R$ 100</button>
              <button type="button" data-amount="200">R$ 200</button>
              <input name="valor" id="valor" type="number" step="0.01" placeholder="Outro valor" style="width:140px" />
            </div>

            <label for="nome">Nome</label>
            <input id="nome" name="nome" type="text" required placeholder="Seu nome completo" />

            <label for="email">E-mail (opcional)</label>
            <input id="email" name="email" type="email" placeholder="seu@email.com" />

            <div style="margin-top:14px">
              <button class="btn" type="submit">Doar</button>
              <a class="btn" href="index.html" style="background:transparent;border:1px solid rgba(255,255,255,0.04);color:#dbeee0;margin-left:8px;padding:10px 14px">Voltar</a>
            </div>
          </form>

          <div class="note">
            Ao doar, você será redirecionado para a página segura de confirmação. Esta é uma demo.
          </div>
        </div>

        <aside>
          <div class="imgbox">
            <img src="https://images.unsplash.com/photo-1573497161139-c9b7d8235e1b?w=900" alt="Criança estudando" />
            <p class="muted" style="margin-top:10px">
              Sua contribuição ajuda diretamente na compra de materiais e no suporte pedagógico.
            </p>
          </div>

          <div style="margin-top:14px;display:flex;gap:8px">
            <div style="flex:1;background:var(--glass);padding:10px;border-radius:8px;text-align:center">
              <div style="font-weight:700">Voluntarie-se</div>
              <div class="muted" style="font-size:13px">Participe das atividades</div>
            </div>
            <div style="flex:1;background:var(--glass);padding:10px;border-radius:8px;text-align:center">
              <div style="font-weight:700">Transparência</div>
              <div class="muted" style="font-size:13px">Relatórios mensais</div>
            </div>
          </div>
        </aside>
      </div>

      <footer>
        <div class="muted">
          Dados de demo — Funcionalidades de doação real exigiriam um back-end.
        </div>
      </footer>
    </div>
  </div>

  <script>
    const goal = 5000.00;
    let collected = 3200.00;

    function fmt(v) {
      return v.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    document.getElementById('goal').textContent = fmt(goal);
    document.getElementById('collected').textContent = fmt(collected);
    const pct = Math.min(100, (collected / goal) * 100);
    document.getElementById('bar').style.width = pct + '%';

    document.querySelectorAll('.amounts button').forEach(b => {
      b.addEventListener('click', () => {
        const a = b.getAttribute('data-amount');
        document.getElementById('valor').value = a;
      });
    });

    document.getElementById('donationForm').addEventListener('submit', function (e) {
      const v = parseFloat(document.getElementById('valor').value);
      const name = document.getElementById('nome').value || '';
      if (!v || v <= 0) {
        e.preventDefault();
        alert('Por favor insira um valor de doação válido.');
        return false;
      }
      if (!name.trim()) {
        e.preventDefault();
        alert('Por favor informe seu nome.');
        return false;
      }
      // Para a demo, previne o envio para o /cgi-bin que não existe
      e.preventDefault();
      alert('Obrigado pela sua doação! (Modo de demonstração)');
      console.log('Doação de', v, 'por', name);
    });
  </script>
</body>
</html>
